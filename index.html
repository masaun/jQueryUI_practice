<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>jQuery UIの練習</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
  <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
</head>
<body>

  <ul id="selectable">
    <li id="item_1">item1</li>
    <li id="item_2">item2</li>
    <li id="item_3">item3</li>
    <li id="item_4">item4</li>
    <li id="item_5">item5</li>
  </ul>

<style>
.ui-selected {
  background: red;
}
</style>

<!-- セレクトされた要素が配列として表示される -->
<!-- spliceで選択解除 -->
<script>
  $(function() {
    var selected = new Array();
    $('#selectable').selectable({
      selected: function(event, ui) {
        if (selected.indexOf(ui.selected.id) == -1) {
          selected.push(ui.selected.id);
        }
        console.log(selected);
      },
      unselected: function(event, ui) {
        var id = ui.unselected.id;
        selected.splice(selected.indexOf(id), 1);
        console.log(selected);
      }
    });
  });
</script>

</body>
</html>